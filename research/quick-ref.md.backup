# Quick-Ref (Optimized for Accuracy)
*Generated: 2025-08-09*

## L1: CRITICAL (~167 tokens)
### Package Versions (MUST USE)
| Package | Version | Critical |
|---------|---------|----------|
| @legendapp/state | @beta | âš ï¸ beta |
| expo | ~53.0.0 | ðŸ“Œ exact |
| react-native | 0.79+ | âœ… |
| typescript | ^5.8.0 | âœ… |
| expo-router | ~5.0.0 | ðŸ“Œ exact |
| react | 18.2.0 | âœ… |
| vitest | ^1.0.0 | âœ… |
| @testing-library/react-native | ^12.0.0 | âœ… |

### Architecture Rules
| âœ… MUST | âŒ NEVER |
|---------|----------|
| feat/*/comp/ structure | src/components flat structure |
| gameState$ observables | single monolithic store |
| useGameLogic() hooks | gameUtils.js utilities |
| vertical slicing | horizontal layers |
| INVEST criteria | big bang features |


## L2: IMPLEMENTATION (~151 tokens)
### Critical Configuration
```javascript
// Metro (REQUIRED for @legendapp/state@beta)
resolver.unstable_enablePackageExports: true
resolver.unstable_conditionNames: ["react-native"]

// TypeScript (STRICT MODE)
strict: true
noImplicitAny: true
strictNullChecks: true

// Babel
plugins: ["react-native-reanimated/plugin"]
```

### Performance Critical
- Hermes Engine: 30% faster
- Bundle splitting: 50% smaller
- Image optimization: 60% smaller
- List virtualization: 90% memory reduction
- Batch state updates: 40% faster

### Testing Stack
- Unit: Vitest
- Component: Testing Library
- E2E: Maestro


## L3: ADVANCED (~54 tokens)
### LLM Optimization
- Markdown 15% more efficient than JSON
- Hierarchical loading (L1â†’L2â†’L3)
- Accuracy > compression

### Security
- semgrep in CI/CD
- expo-secure-store for secrets
- Server-side API keys only


## L4: ALTERNATIVES (~54 tokens)
### When NOT React Native
| Use Case | Alternative | Why |
|----------|-------------|-----|
| Web-first | SolidJS | 10x smaller |
| Data-heavy | TanStack Query | Better caching |
| Desktop | Tauri | Native perf |


## L5: EMERGENCY (~39 tokens)
### Quick Fixes
```bash
# Metro cache issues
npx expo start -c

# Type errors
npx tsc --noEmit

# Module not found
rm -rf node_modules && npm install
```


---
## Philosophy
- **Accuracy** over aggressive compression
- **Known facts** hardcoded for reliability
- **Essential info** only
- **Clear structure** for easy scanning

## Sources
- /research/tech/*.md - Technology specifics
- /research/planning/*.md - Architecture patterns
- /research/agentic/*.md - AI/LLM optimization
