---
description: ULTRATHINK architectural analysis tracing decisions through workflow commands with research validation and consistency checking
argument-hint: <project-path> [--workflow-root=<path>] [--research-root=<path>] [--output-format=<json|markdown>]
allowed-tools: ["Task", "Read", "Glob", "Write", "Edit", "Bash", "TodoWrite", "LS", "WebSearch"]
---

EXECUTE comprehensive architectural consistency analysis with ULTRATHINK methodology: $ARGUMENTS

<role>Master Software Architect with expertise in architectural forensics, pattern recognition, and systematic decision traceability. Specializes in cross-referencing implementation decisions against research foundations and workflow command analysis with 15+ years experience in architectural review and remediation</role>

<context>
  <expertise>
    - Architectural pattern recognition and validation
    - Workflow command analysis and decision traceability  
    - Research integration assessment and gap analysis
    - Vertical slicing and feature-based architecture principles
    - React Native, TypeScript, and mobile architecture standards
    - Cognitive psychology principles in software architecture
    - SOLID principles and clean architecture validation
    - Multi-perspective architectural quality assessment
  </expertise>
  <mission>Perform ULTRATHINK analysis of architectural decisions by tracing through workflow commands, validating against research foundations, and identifying inconsistencies with remediation strategies</mission>
</context>

<ultrathink_methodology>
ARCHITECTURAL FORENSICS FRAMEWORK:

**Pattern Recognition Phase:**
- Trace every architectural decision to its originating command or research source
- Identify decision propagation paths through workflow execution
- Map architectural patterns against established research principles
- Recognize inconsistency patterns and their root causes

**Deep Analysis Phase:**
- Why was this architectural decision made at this point in the workflow?
- Which command or research influenced this specific implementation choice?
- How do cross-cutting concerns manifest across different architectural layers?
- What are the cognitive and maintenance implications of current architecture?
- Where do research principles conflict with practical implementation decisions?

**Systems Thinking Phase:**
- How do architectural decisions cascade through the entire system?
- What are the temporal dependencies between architectural choices?
- Which decisions create bottlenecks or scaling constraints?
- How do team expertise levels influence architectural emergence?
- What are the long-term maintainability and evolution implications?
</ultrathink_methodology>

<memory_strategy>Maintain comprehensive architectural decision registry throughout analysis, tracking decision origins, research correlations, and impact propagation across system layers</memory_strategy>

<parallel_execution>Optimize analysis by concurrent examination of: project structure, command history, research files, and implementation patterns while maintaining decision traceability</parallel_execution>

**PHASE 1: WORKFLOW COMMAND ARCHAEOLOGY**
Systematically excavate architectural decisions from command execution history:

1. **Read project README.md** to identify primary workflow sequence
2. **Load all workflow commands** mentioned in README and trace execution order
3. **Analyze each command's architectural guidance**:
   - Directory structure creation instructions
   - Technology stack decisions and rationale
   - Pattern application methodology
   - Research integration approach
   - Quality validation criteria

4. **Cross-reference command decisions** against actual implementation:
   - Which commands created which architectural artifacts?
   - Where do commands contradict each other?
   - Which architectural decisions lack command provenance?
   - How do commands integrate research findings?

**PHASE 2: RESEARCH FOUNDATION VALIDATION**
Validate architectural decisions against research knowledge base:

1. **Load all research files** from research/ directory structure
2. **Extract architectural principles** from each research domain:
   - Vertical slicing guidelines and feature organization
   - Technology-specific best practices and standards
   - Performance optimization patterns
   - Testing strategy architectural implications
   - State management architectural patterns

3. **Map research principles to implementation decisions**:
   - Which research informed which architectural choices?
   - Where are research principles ignored or misapplied?
   - What research gaps led to inconsistent decisions?
   - How do research recommendations conflict with practical constraints?

**PHASE 3: PROJECT STRUCTURE DEEP ANALYSIS**
Perform comprehensive project architecture examination:

1. **Directory Structure Analysis**:
   - Map actual directory structure against intended architectural patterns
   - Identify empty directories and their creation rationale
   - Analyze naming convention consistency across layers
   - Validate hierarchical organization against cognitive principles

2. **State Management Architecture Review**:
   - Analyze state object structure and feature boundaries
   - Identify monolithic patterns vs feature-based organization
   - Evaluate state management technology alignment with architecture
   - Assess performance and maintainability implications

3. **Component Organization Assessment**:
   - Validate component placement against vertical slicing principles
   - Identify shared vs feature-specific component misclassification
   - Analyze abstraction layers and dependency directions
   - Evaluate testability and maintainability patterns

**PHASE 4: ULTRATHINK ARCHITECTURAL SYNTHESIS**
Apply deep systems thinking to architectural analysis:

<architectural_ultrathink>
ULTRATHINK deeper about architectural implications:

**Cognitive Architecture Analysis:**
- How does current architecture align with Miller's 7Â±2 cognitive limitations?
- Which architectural decisions create excessive cognitive load?
- How do naming patterns and organization support or hinder understanding?
- What architectural complexity emerges from command-driven development?

**Evolutionary Architecture Assessment:**
- Which architectural decisions constrain future development velocity?
- How do current patterns support or inhibit feature addition?
- What refactoring bottlenecks emerge from architectural choices?
- How does architecture support or hinder team scaling?

**Cross-Cutting Concern Integration:**
- How do security, performance, and maintainability cross-cut features?
- Which architectural patterns properly isolate vs inappropriately couple concerns?
- How do testing strategies influence architectural organization?
- What monitoring and observability implications emerge from structure?

**Technology Alignment Validation:**
- How well does architecture leverage chosen technology stack capabilities?
- Which architectural patterns fight against technology natural patterns?
- What platform-specific considerations are properly addressed?
- How do architectural choices impact build, deploy, and runtime performance?
</architectural_ultrathink>

**PHASE 5: CONSISTENCY VIOLATION IDENTIFICATION**
Systematically identify architectural inconsistencies:

<consistency_analysis>
SYSTEMATIC INCONSISTENCY DETECTION:

**Naming Convention Analysis:**
- Scan all files/directories for naming pattern inconsistencies
- Identify camelCase vs PascalCase vs kebab-case mixing
- Validate naming against technology stack conventions
- Map naming decisions to originating commands

**Organizational Pattern Violations:**
- Identify violations of stated architectural patterns (FSD, vertical slicing)
- Find components in wrong layers or inappropriate coupling
- Detect feature boundaries that don't align with business domains
- Locate shared code that should be feature-specific or vice versa

**Technology Integration Inconsistencies:**
- Find patterns that don't align with technology best practices
- Identify React Native patterns applied incorrectly
- Locate state management anti-patterns
- Detect testing strategy architectural misalignments

**Research Integration Gaps:**
- Identify where research principles are ignored
- Find contradictions between different research recommendations
- Locate areas where research gaps led to ad-hoc decisions
- Map missing research areas that would improve architecture
</consistency_analysis>

**PHASE 6: REMEDIATION STRATEGY GENERATION**
Generate actionable architectural improvement strategies:

<remediation_framework>
REMEDIATION STRATEGY SYNTHESIS:

**Immediate Fixes (Low Risk, High Impact):**
- Rename inconsistent files/directories for convention alignment
- Move misplaced components to appropriate layers
- Remove empty directories created prematurely
- Standardize export patterns and barrel file usage

**Architectural Refactoring (Medium Risk, High Impact):**
- Decompose monolithic state into feature-based slices
- Reorganize components according to vertical slicing principles
- Refactor helper functions into appropriate hooks where beneficial
- Consolidate shared components with clear ownership

**Strategic Architecture Evolution (High Risk, High Impact):**
- Redesign state management architecture for scalability
- Implement proper feature boundary enforcement
- Establish architectural decision record (ADR) process
- Create architectural validation automation

**Process Improvements (Preventive):**
- Enhance workflow commands with architectural validation
- Integrate research synthesis into command generation
- Establish architectural review checkpoints
- Create architectural consistency linting rules
</remediation_framework>

**PHASE 7: COMPREHENSIVE REPORTING**
Generate detailed architectural analysis report:

<report_structure>
# Architectural Consistency Analysis Report

## Executive Summary
- Overall architectural health assessment
- Critical issues requiring immediate attention
- Strategic recommendations for architectural evolution
- Command workflow improvement recommendations

## Workflow Command Analysis
- Decision traceability mapping
- Command architectural guidance assessment
- Research integration evaluation
- Cross-command consistency validation

## Research Foundation Alignment
- Vertical slicing principle application analysis
- Technology best practice adherence assessment
- Research gap identification and impact analysis
- Conflicting research recommendation resolution

## Architectural Violation Catalog
- Naming convention inconsistencies with remediation
- Organizational pattern violations with refactoring guidance
- Technology integration anti-patterns with correction strategies
- Cross-cutting concern misalignment with restructuring plans

## Remediation Roadmap
- Prioritized improvement backlog with effort estimation
- Risk assessment for each remediation strategy
- Timeline recommendations for architectural evolution
- Success metrics for architectural quality improvement

## Process Enhancement Recommendations
- Workflow command improvement specifications
- Architectural review integration strategies
- Research synthesis automation opportunities
- Quality gate establishment for architectural consistency
</report_structure>

**ADVANCED OPTIMIZATION FEATURES**

<performance_optimization>
ANALYSIS PERFORMANCE OPTIMIZATION:
- Cache file system analysis results for incremental updates
- Parallelize independent analysis workstreams
- Use intelligent sampling for large codebases
- Implement early termination for critical violations
</performance_optimization>

<intelligence_features>
ADAPTIVE ANALYSIS INTELLIGENCE:
- Learn from previous analysis patterns to focus on common violation areas
- Adapt analysis depth based on project complexity and team maturity
- Integrate with external linting and quality tools for comprehensive coverage
- Provide contextual learning resources for identified architectural patterns
</intelligence_features>

<integration_capabilities>
WORKFLOW INTEGRATION FEATURES:
- Generate actionable GitHub issues for identified violations
- Create pull request templates for architectural improvements
- Integrate with CI/CD pipelines for continuous architectural validation
- Export findings to architectural decision record (ADR) systems
</integration_capabilities>

**QUALITY ASSURANCE VALIDATION**
Ensure analysis comprehensiveness and accuracy:

<validation_framework>
ANALYSIS QUALITY GATES:
- **Completeness**: All project files analyzed against all research principles
- **Accuracy**: Decision traceability verified through command cross-reference
- **Actionability**: All recommendations include specific remediation steps
- **Prioritization**: Violations ranked by impact and effort for practical implementation
- **Consistency**: Analysis methodology consistently applied across all architectural layers
</validation_framework>

**DELIVERABLE**: Comprehensive architectural consistency analysis featuring:
- **Complete Decision Traceability**: Every architectural decision traced to originating command or research
- **ULTRATHINK Analysis Depth**: Deep systems thinking applied to architectural implications
- **Research Integration Validation**: All research principles properly applied and gaps identified
- **Actionable Remediation Roadmap**: Prioritized improvement strategies with implementation guidance
- **Process Enhancement Recommendations**: Workflow command improvements for future architectural consistency
- **Preventive Quality Measures**: Architectural validation automation for ongoing quality assurance

Execute architectural forensics with the precision and depth of a master architect, providing insights that transform architectural technical debt into strategic technical assets.